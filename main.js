(()=>{"use strict";var e=document.querySelector(".form__drop-down-list"),t=document.querySelectorAll(".form__drop-down-list-item"),n=document.querySelector(".form__drop-down-button"),o=document.querySelector(".form__drop-down-input-hidden"),i=document.querySelector(".form__input-delete-button"),r=document.querySelectorAll(".topic"),l=document.querySelector(".form__input"),s=document.querySelector(".add-button"),a=document.querySelector(".topics"),d=document.querySelectorAll(".form__label"),c=d[0],u=d[1],_=(d[2],document.querySelector(".form__textarea")),m=document.querySelector(".form__textarea-count"),v=document.querySelector(".form"),f=["Пеший туризм","Философия","Вселенная","Здоровые привычки","Бабочки","Белые медведи","Экономика","Финансовая грамотность","Фотосинтез","Искусство и культура","Окружающая среда","Технологии и инновации","Религия и духовность","Экосистемы","Языки и культуры","Психология","Обществознание","Математика","Океан"];function b(){e.classList.toggle("form__drop-down-list_visible")}function L(e){e.stopPropagation(),n.innerText=this.innerText,b(),t.forEach((function(e){return e.classList.remove("form__drop-down-list-item_active")})),u.classList.remove("form__label_blue"),this.classList.add("form__drop-down-list-item_active"),o.value=this.dataset.value}var p=0;function y(){l.value=this.textContent,i.classList.add("form__input-delete-button_visible")}n.addEventListener("click",(function(e){e.preventDefault(),b(),u.classList.add("form__label_blue")})),t.forEach((function(e){e.addEventListener("click",L)})),document.addEventListener("click",(function(t){t.target!==n&&t.target!==e&&(e.classList.remove("form__drop-down-list_visible"),u.classList.remove("form__label_blue"))})),document.addEventListener("keydown",(function(t){"Escape"!==t.key&&"Tab"!==t.key||e.classList.remove("form__drop-down-list_visible")})),r.forEach((function(e){e.addEventListener("click",y)})),s.addEventListener("click",(function(e){e.preventDefault();for(var t=0;t<9;t++){var n=document.createElement("li");n.textContent=f[p],a.appendChild(n),n.classList.add("topic"),n.addEventListener("click",y),p=(p+1)%f.length}})),i.addEventListener("click",(function(e){e.preventDefault(),l.value="",i.classList.remove("form__input-delete-button_visible")})),l.addEventListener("input",(function(){l.value.length>0&&i.classList.add("form__input-delete-button_visible"),0==l.value.length&&i.classList.remove("form__input-delete-button_visible")})),l.addEventListener("click",(function(){c.classList.add("form__label_blue")})),document.addEventListener("click",(function(e){e.target!==l&&c.classList.remove("form__label_blue")})),_.addEventListener("input",(function(){var e,t,n=this.value.length;m.textContent="".concat(n," / 200"),t=(e=document.querySelector(".form")).querySelector(".next-button"),e.checkValidity()?(t.removeAttribute("disabled"),t.classList.remove("next-button_disabled")):(t.setAttribute("disabled",!0),t.classList.add("next-button_disabled"))})),v.addEventListener("submit",(function(e){e.preventDefault();var t=e.currentTarget;if(t.checkValidity()){var n=t.querySelector(".next-button");t.reset(),n.setAttribute("disabled",!0),n.classList.add("next-button_disabled"),i.classList.remove("form__input-delete-button_visible"),m.textContent="0 / 200"}})),v.addEventListener("input",(function(e){var t=e.target,n=e.currentTarget;!function(e){var t=e.validity;e.setCustomValidity(""),(t.tooShort||t.tooLong)&&e.setCustomValidity("Enter your name")}(t),function(e){e.nextElementSibling.textContent=e.validationMessage,e.classList.add("form__textarea_invalid"),e.previousElementSibling.classList.add("form__label_red"),null==m||m.classList.add("form__textarea-count_red")}(t),n.checkValidity()&&(t.classList.remove("form__textarea_invalid"),t.previousElementSibling.classList.remove("form__label_red"),null==m||m.classList.remove("form__textarea-count_red"))}))})();